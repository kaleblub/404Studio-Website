{% extends 'base.html' %}
{% block content %}
<style>
    .active {
        background: #8bbf8885;
    }

    .underlined-hero {
        position: relative;
        display: inline-block;
        z-index: 1;
    }

    .underlined-hero::after {
        content: "";
        position: absolute;
        bottom: -16px;
        /* Adjust as needed */
        left: 0;
        width: 100%;
        height: 40px;
        /* Adjust to match the SVG */
        background-image: url("{{ url_for('static', filename='images/underlines/home-hero-section-underline.svg') }}");
        background-repeat: no-repeat;
        background-size: contain;
        z-index: -1;
    }
</style>
<!-- Hero Section -->
<section
    class="bg-white relative flex flex-col items-center md:items-center max-w-screen md:h-auto md:min-h-0">

    <!-- Hero Content -->
    <div class="relative flex flex-col md:flex-row-reverse items-center w-full bg-gradient-to-t from-primarygreen from-[0%] to-white to-[100%]">
        <!-- Top/Right Side: Hero Image -->
        <div class="relative flex items-center w-full md:w-1/2 md:min-h-[500px] md:h-5/6 max-h-[400px] md:max-h-none overflow-hidden">
            <img src="{{ url_for('static', filename='images/balanced-accountant-contact-page-hero-image.jpg') }}"
                alt="Hero Image" class="relative w-full h-full object-cover md:scale-100 md:top-[50%] rounded-l-[80px]">
        </div>
        <!-- Bottom/Left Side: Text Content -->
        <div class="relative left-0 z-10 w-full md:w-2/5 mx-12 px-12 py-12 text-left bg-[rgba(255,255,255,0.30)] rounded-[10px]">
            <h1 class="font-garamond text-[32px] md:text-[38px] lg:text-[48px] xl:text-[64px] font-bold leading-tight">
                Our <span class="underlined underlined-hero">Specialties</span></h1>
            <p
                class="font-inter text-gray-700 text-[11px] md:text-[13.5px] lg:text-[18px] leading-[15px] md: leading-normal mt-4">
                We provide expert accounting solutions for small businesses, from bookkeeping to payroll management. Whether you need help with financial reporting or software training, we ensure you have clarity, control, and confidence in your numbers. Book a free consultation today!</p>
            <div class="flex gap-4 justify-center md:justify-start mt-6">
                <button
                    class="cursor-pointer font-poppins bg-secondarygreen text-white text-[10px] md:text-[13px] text-white px-5 py-2 rounded-full shadow-md hover:bg-primarygreen hover:text-black transition">Schedule
                    Free Consultation</button>
            </div>
        </div>
    </div>
</section>
<section class="bg-primarygreen relative flex">
    <div class="w-full">
        <div class="flex flex-col">
            <div class="flex flex-row justify-center border-b md:mt-15">
                <button class="tab-button active cursor-pointer font-poppins bg-secondarygreen text-white text-[10px] md:text-[13px] text-white px-5 py-2 rounded-t-xl shadow-md hover:bg-primarygreen hover:text-black hover:outline-black hover:outline-1 transition" data-tab="accounting">Accounting & Financial Statements</button>
                <button class="tab-button cursor-pointer font-poppins bg-secondarygreen text-white text-[10px] md:text-[13px] text-white px-5 py-2 rounded-t-xl shadow-md hover:bg-primarygreen hover:text-black hover:outline-black hover:outline-1 transition" data-tab="bookkeeping">Bookkeeping & Record Keeping</button>
                <button class="tab-button cursor-pointer font-poppins bg-secondarygreen text-white text-[10px] md:text-[13px] text-white px-5 py-2 rounded-t-xl shadow-md hover:bg-primarygreen hover:text-black hover:outline-black hover:outline-1 transition" data-tab="payroll">Payroll</button>
                <button class="tab-button cursor-pointer font-poppins bg-secondarygreen text-white text-[10px] md:text-[13px] text-white px-5 py-2 rounded-t-xl shadow-md hover:bg-primarygreen hover:text-black hover:outline-black hover:outline-1 transition" data-tab="software">Software Training & Setup</button>
            </div>
            <!-- Loop here -->
            <div class="relative flex flex-col md:flex-row justify-center bg-white py-10 px-6">
                <div class="flex flex-col lg:flex-row justify-center md:items-center">
                    <!-- Background Circle -->
                    <div class="absolute bg-primarygreen rounded-full w-45 h-45 md:w-60 md:h-60 lg:w-90 lg:h-90 -z-1 transform translate-x-10 translate-y-15 lg:translate-x-25 lg:translate-y-25"></div>
                    <!-- Image Circle -->
                    <div class="rounded-full overflow-hidden w-56 h-56 md:w-75 md:h-75 lg:w-125 lg:h-125">
                        <img id="service-image" src="{{ all_services['accounting']['image'] }}" alt="Service Image" class="w-full h-full object-cover">
                </div>
                
                <div class="lg:w-1/2 p-4">
                    <h1 id="service-title" class="text-3xl font-semibold mb-4">{{ all_services['accounting']['title'] }}</h1>
        
                    <div id="service-content" class="columns-2">
                        {% for icon, text in all_services['accounting']['content'] %}
                            <div class="flex items-start mb-4">
                                {{ icon | safe }}
                                <p>{{ text }}</p>
                            </div>
                        {% endfor %}
                    </div>

                    <button class="cursor-pointer font-poppins bg-secondarygreen text-white text-[10px] md:text-[13px] text-white px-5 py-2 rounded-full shadow-md hover:bg-primarygreen hover:text-black hover:outline-black hover:outline-1 transition">START TODAY</button>
                </div>
            </div>
        </div>
    </div>
</section>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const tabButtons = document.querySelectorAll('.tab-button');
        const serviceImage = document.getElementById('service-image');
        const serviceTitle = document.getElementById('service-title');
        const serviceContent = document.getElementById('service-content');

        const services = {{ all_services | tojson | safe }};
        const selectedTab = "{{ selected_tab }}";

        function activateTab(tabId) {
            tabButtons.forEach(button => {
                button.classList.remove('active', 'border-green-500', 'bg-primarygreen');
            });

            const tabButton = document.querySelector(`.tab-button[data-tab="${tabId}"]`);
            if (tabButton) {
                tabButton.classList.add('active', 'border-green-500', 'bg-primarygreen');
                serviceImage.src = services[tabId].image;
                serviceTitle.textContent = services[tabId].title;
                serviceContent.innerHTML = '';
                services[tabId].content.forEach(item => {
                    serviceContent.innerHTML += `<div class="flex items-start mb-4">${item[0]}<p>${item[1]}</p></div>`;
                });
            }
        }

        // Activate the tab on page load
        activateTab(selectedTab);

        // Event listeners for tab clicks
        tabButtons.forEach(button => {
            button.addEventListener('click', () => {
                const tabId = button.dataset.tab;
                activateTab(tabId);
            });
        });
    });
</script>
{% endblock %}